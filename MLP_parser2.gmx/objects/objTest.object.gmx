<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
var tvariables;
variables = ds_map_create();

ds_map_add(variables, "globalvariable", 200);
ds_map_add(variables, "pi", pi);
ds_map_add(variables, "e", exp(1));
ds_map_add(variables, "var1", 1);
ds_map_add(variables, "var2", 1);
ds_map_add(variables, "var3", 1);
ds_map_add(variables, "str1", "");
ds_map_add(variables, "str2", "");
ds_map_add(variables, "str3", "");

tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
myfunc = ML_InitParserCS(variables);
str = "angle_difference(-270,720)"
with (myfunc) {
    ML_AddFunction("angle_difference",AngleDifference, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    ML_SetExpression(other.str);
}

tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
myfunc = ML_InitParserCS(variables);
str = "6 &lt;&lt; 2"
with (myfunc) {
    ML_SetExpression(other.str);
}

tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "sin( pi / 2) +globalvariable"
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    ML_AddVariable("globalvariable");
    ML_AddVariable("pi", pi); //3rd argument is unnecessary as variable is already initialized
    ML_AddFunction("sin",_ML_FSin,ML_VAL_REAL, ML_VAL_REAL);
    ML_SetExpression(other.str);
}

tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "2 * 4 nCr 2 * 2"
myfunc = ML_InitParserCS(variables);
//show_message("real script id: " + string(_ML_FMultiply));
with (myfunc) {
    //a * b nCr c * d = a * (b nCr c) * d
    ML_AddBinaryOper("nCr",25,_ML_FCombination, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    ML_SetExpression(other.str);
}

tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "rand() - 0.5"
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    ML_AddFunction("rand",myRandom, ML_VAL_REAL);
    ML_SetExpression(other.str);
}


tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "2 &lt;= 4 ^^ 4 &gt; 5";
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    ML_SetExpression(other.str);
}


tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "2 * * 5"
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    ML_SetExpression(other.str);
}

tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "var1 += var2 = (3*var3 - var2)";
//show_message("huh");
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    //values "1" are unnecessary as variables are already initialized.
    
    
    ML_AddVariable("var1",1, ML_VAL_REAL, false);
    ML_AddVariable("var2",1, ML_VAL_REAL, false);
    ML_AddVariable("var3",1, ML_VAL_REAL, true);
    ML_SetExpression(other.str);
}


tvariables = ds_map_create();
ds_map_copy(tvariables, variables);
str = "str2= (str1='asdfhjkg', strlen(str1)&lt;4 ? 's' : 'b')";
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    ML_AddFunction("getstr",myGetString, ML_VAL_STRING);
    ML_AddFunction("strlen",myStringLength, ML_VAL_REAL, ML_VAL_STRING);
    
    ML_AddVariable("str1","", ML_VAL_STRING, false); 
    ML_AddVariable("str2","", ML_VAL_STRING, false);
    ML_AddVariable("str3"); //automatically checks that "str1" is string (and sets var to unreadable
    ML_SetExpression(other.str);
}


str = "ln(e^2^3)!";
myfunc = ML_InitParserScience(ds_map_create());
with (myfunc) {
    ML_SetExpression(other.str);
}


str = "(sin(pi / 2) *  -(4-2) + 1)/10 + globalvariable * (1/100) &lt;= rand() * 5"
myfunc = ML_InitParserCS(variables);
with (myfunc) {
    ML_AddVariable("globalvariable");
    ML_AddVariable("pi");
    ML_AddVariable("e");
    ML_AddVariable("var1");
    ML_AddVariable("var2");
    ML_AddVariable("var3");
    ML_AddVariable("str1");
    ML_AddVariable("str2");
    ML_AddVariable("str3");
    
    ML_AddBinaryOper("nPr",14.5,_ML_FPermutation, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddBinaryOper("nCr",14.5,_ML_FCombination, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    
    ML_AddFunction("rand",myRandom, ML_VAL_REAL);
    ML_AddFunction("angle_difference",AngleDifference, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("not",_ML_FNot, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("sin",_ML_FSin, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("cos",_ML_FCos, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("tan",_ML_FTan, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("degrees",_ML_FDegrees, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("radians",_ML_FRadians, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("sqrt",_ML_FSqrt, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("power",_ML_FPower, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("round",_ML_FRound, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("floor",_ML_FFloor, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("ceil",_ML_FCeil, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("frac",_ML_FFrac, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("abs", _ML_FAbs, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("arcsin", _ML_FASin, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("arccos", _ML_FACos, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("arctan", _ML_FATan, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("exp", _ML_FExp, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("ln", _ML_FLn, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("log", _ML_FLog, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("log2", _ML_FLog2, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("logn", _ML_FLogn, ML_VAL_REAL, ML_VAL_REAL, ML_VAL_REAL);
    ML_AddFunction("factorial", _ML_FFactorial, ML_VAL_REAL, ML_VAL_REAL);
    
    
    ML_SetExpression(other.str);
}

with (ML_objParser) {
    ML_ClearExceptions();
    ML_Calculate();
}

//ds_map_destroy(variables);  
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (ML_objParser) {
    ML_ClearExceptions();
    ML_Calculate();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i, k;
i = 0;
//debug mode, for all parsers
k = 400;
draw_set_font(ft_code);


var num;
num = instance_number(ML_objParser);
for (i = 0; i &lt; num; i += 1) {
    with (instance_find(ML_objParser, i)) {
        if (ML_HasAnswer()) {
            draw_set_color(c_black);
        } else {
            draw_set_color(c_red);
        }
        draw_text(0, i * 56,ML_GetExprString() );
        draw_text(30,i * 56 + 14, ML_LastExceptionString())
        draw_text(30,i * 56 + 28, "ans = " + string(ML_GetFinalAnswer()));
        draw_set_color(c_black);
        draw_line(0,i*56,room_width,i*56);
    }
}
draw_set_color(c_black);
draw_line_width(k-5,0,k-5,560,2);
draw_line_width(0,560,room_width,560,2);

var j;
draw_set_font(ft_read);
draw_text(200,0,fps_real);


j = 0;
draw_text(k,j,"shows a custom function, with 2 arguments"); j += 56;
draw_text(k,j,"shows a binarry operator#bitshifting"); j += 56;
draw_text(k,j,"shows the use of variables#pi is local, globalvariable global#"+
              "globalvariable = " + string(ds_map_find_value(variables,"globalvariable"))); j += 56;
draw_text(k,j,"shows a custom binary operator#precedence is set to higher than multiplication"); j += 56;
draw_text(k,j,"shows another function#without arguments"); j += 56;
draw_text(k,j,"shows the use of logical operators#Logical operators are lower in precedence than comparison#function is read as (2 &lt;= 4) ^^ (4 &gt; 5)"); j += 56;
draw_text(k,j,"shows a typical error which might occur always check for error after#calculating.  If an error occurs the answer is undefined#ALWAYS clear the error state before calculating"); j += 56;
draw_text(k,j,"shows various forms of assignment#initially all 3 variables are '1'#"+
              "var1 = " + string(ds_map_find_value(variables,"_var1")) + "  var2 = "+ string(ds_map_find_value(variables,"_var2")) + "  var3 = "+ string(ds_map_find_value(variables,"_var3"))); j += 56;
draw_text(k,j,"shows use of strings, the comma opearator # and the use of the ternary 'conditional' operator#"+
              "str1 = " + string(ds_map_find_value(variables,"_str1")) + "  str2 = "+ string(ds_map_find_value(variables,"_str2"))); j += 56;
draw_text(k,j,"Shows a complete different setup of operators, using Science#"+
              "'^' is to the power of, ! means factorian, 'e' is the mathematical const#"+
              "ln(e^2^3) is read as ln(e^(2^3)) = 8#"); j+= 56;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
str = get_string("new function", str);
with (myfunc) {
    ML_SetExpression(other.str);
    ML_ClearExceptions();
    ML_Calculate();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
